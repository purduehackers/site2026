---
import BaseLayout from '../layouts/BaseLayout.astro';
import Glider from '../components/Glider.astro';

const bayer = [
	[0, 8, 2, 10],
	[12, 4, 14, 6],
	[3, 11, 1, 9],
	[15, 7, 13, 5],
];
const w = 4;
const h = 128;
const rects: string[] = [];
for (let y = 0; y < h; y++) {
	for (let x = 0; x < w; x++) {
		const level = Math.floor(y / 4) / 32;
		const threshold = bayer[y % 4][x] / 16;
		if (level > threshold) {
			rects.push(`<rect x="${x}" y="${y}" width="1" height="1" fill="#000"/>`);
		}
	}
}
const ditherSvg =
	'data:image/svg+xml,' +
	encodeURIComponent(
		`<svg xmlns="http://www.w3.org/2000/svg" width="${w}" height="${h}" viewBox="0 0 ${w} ${h}"><rect width="100%" height="100%" fill="#fff"/>${rects.join('')}</svg>`
	);
---
<BaseLayout>
	<main>
		<section class="min-h-screen flex items-center gap-16 px-20 pt-20 bg-white">
			<img
				src="/purduehackers.svg"
				alt="Purdue Hackers"
				class="w-full max-w-2xl h-auto object-contain object-left shrink-0 noselect"
			/>
			<Glider gridCols={80} gridRows={100} cellSize={10} speedMs={100} class="shrink-0 absolute top-1/3 right-0" />
		</section>

		<section
			class="h-[256px] w-full shrink-0"
			style={`background-color: #fff; background-image: url('${ditherSvg}'); background-size: 8px 256px; background-repeat: repeat-x; image-rendering: pixelated; image-rendering: crisp-edges;`}
			aria-hidden="true"
		/>
		<section data-header-dark class="min-h-screen flex flex-col items-center pt-72 px-8 py-16 bg-black text-white text-center">
			<!-- 1 -->
			<div class="mb-72">
			  <p class="max-w-[36rem] uppercase font-inconsolata text-2xl leading-relaxed mb-6">
				A collective of hobbyists, engineers, and artists who make creative-technical software, hardware, and mixed media projects.
			  </p>
			  <img src="/ph.svg" alt="Purdue Hackers" class="w-6 h-6 mb-6 mx-auto" />
			  <p class="max-w-[36rem] font-whyte text-l leading-relaxed mt-6">
				Since 2013, Purdue Hackers has been a home to build, ship, and demo creative-technical projects together. We'd love to see you here.
			  </p>
			</div>
			
			<!-- 2 -->
			<div class="mb-72">
			  <img src="/moon.svg" alt="hack night" class="w-6 h-6 mb-6 invert mx-auto" />
			  <p class="max-w-[36rem] font-whyte text-l leading-relaxed">
				Hack night happens <span class="highlight">every Friday night at 8pm</span>, second floor of <a href="https://www.purdue.edu/bidc/" class="highlight hover:text-[var(--color-secondary)] underline transition-colors duration-300">the Bechtel Center</a>. Ends when the last person leaves (often until 6am or later). Pull up!
			  </p>
			  <br />
			  <p class="max-w-[36rem] font-whyte text-l leading-relaxed mb-4">
				A typical Hack Night schedule looks like this:
			  </p>
			  <table class="font-inconsolata text-xl mx-auto">
				<tbody>
				  <tr>
					<td class="highlight pr-4 py-1">D~5~5|5 (8:00pm):</td>
					<td class="py-1 uppercase">Hacking begins</td>
				  </tr>
				  <tr>
					<td class="highlight pr-4 py-1">E~0~0|0 (9:00pm):</td>
					<td class="py-1 uppercase">Session 1</td>
				  </tr>
				  <tr>
					<td class="highlight pr-4 py-1">E~A~A|A (10:00pm):</td>
					<td class="py-1 uppercase">Session 2</td>
				  </tr>
				  <tr>
					<td class="highlight pr-4 py-1">0~0~0 (12:00am):</td>
					<td class="py-1 uppercase">Checkpoints</td>
				  </tr>
				</tbody>
			  </table>
			</div>

			<!-- 3 -->
			<div class="mb-72">
				<img src="/sparkle.svg" alt="show" class="w-6 h-6 mb-6 invert mx-auto" />
				<p class="max-w-[36rem] font-whyte text-l leading-relaxed">
				At the end-of-semester, we hold a show where our community comes together to share projects made throughout the semester at Hack Night and beyond.
				</p>
				<br />
				<p class="font-inconsolata text-xl font-semibold uppercase">???: Fall 2026 Show</p>
				<a href="https://spill.purduehackers.com/" class="font-inconsolata text-xl font-semibold uppercase underline hover:text-[var(--color-secondary)] transition-colors duration-300">Spill: Fall 2025 Show</a>
				<br />
				<a href="https://burst.purduehackers.com/" class="font-inconsolata text-xl font-semibold uppercase underline hover:text-[var(--color-secondary)] transition-colors duration-300">Burst: Fall 2024 Show</a>
			</div>

		  </section>

		<section
			class="relative min-h-screen w-full bg-cover bg-center bg-no-repeat flex flex-col justify-end"
			style="background-image: url('/pic.png');"
		>
			<div class="absolute inset-0 bg-gradient-to-t from-black/70 via-transparent to-transparent pointer-events-none" aria-hidden="true" />
			<div class="relative z-10 flex flex-wrap items-end justify-between gap-8 px-8 py-12 md:px-12 md:py-16">
				<div class="font-inconsolata text-white text-left max-w-md">
					<p class="text-sm md:text-base uppercase tracking-wide opacity-90">Purdue Hackers</p>
					<p class="mt-2 text-lg md:text-xl">A collective of hobbyists, engineers, and artists building creative-technical projects since 2013.</p>
				</div>
				<div class="font-inconsolata text-white text-right max-w-md">
					<p class="text-sm md:text-base uppercase tracking-wide opacity-90">Find us</p>
					<p class="mt-2 text-lg md:text-xl">
						<a href="https://discord.gg/purduehackers" class="underline hover:no-underline transition-colors">Discord</a> Â·
						<a href="https://github.com/purduehackers" class="underline hover:no-underline transition-colors">GitHub</a>
					</p>
				</div>
			</div>
		</section>
	</main>
</BaseLayout>
